<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="There are already a lot of tutorials on internet about how to make apps with GTK and python, but they don&#39;t tell you how to get started from zero, so we will cover that here. First, some important...">
        <meta name="keywords" content="GTK, GUI, python">
        <link rel="icon" href="/favicon.ico">

        <title>Getting started with GTK and python - MaiteLab</title>

        <!-- Stylesheets -->
        <link href="/theme/css/bootstrap.min.css" rel="stylesheet">
        <link href="/theme/css/fonts.css" rel="stylesheet">
        <link href="/theme/css/nest.css" rel="stylesheet">
        <link href="/theme/css/pygment.css" rel="stylesheet">
        <!-- /Stylesheets -->

        <!-- RSS Feeds -->
        <!-- /RSS Feeds -->

        <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
          <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
          <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
        <![endif]-->



    </head>

    <body>

        <!-- Header -->
    <div class="header-container gradient">

            <!-- Static navbar -->
            <div class="container">
                <div class="header-nav">
                    <div class="header-logo">
                        <a class="pull-left" href="/"><img class="mr20" src="/images/logo.png" alt="logo">MaiteLab</a>
                    </div>
                    <div class="nav pull-right">
                                <a href="/">Homepage</a>
                                <a href="/categories.html">Categories</a>
                    </div>
                </div>
            </div>
            <!-- /Static navbar -->

            <!-- Header -->
    <!-- Header -->
    <div class="container header-wrapper">
        <div class="row">
              <div class="col-lg-12">
                  <div class="header-content">
                      <h1 class="header-title">Getting started with GTK and python</h1>
                      <p class="header-date">By <a href="/author/taksan.html">Taksan</a>, mié 02 enero 2019, modified mié 02 enero 2019, in category <a href="/category/python.html">Python</a></p>
                      <div class="header-underline"></div>
                      <div class="clearfix"></div>
                      <p class="pull-right header-tags">
                          <span class="glyphicon glyphicon-tags mr5" aria-hidden="true"></span>
<a href="/tag/gtk.html">GTK</a>, <a href="/tag/gui.html">GUI</a>, <a href="/tag/python.html">python</a>                      </p>
                  </div>
              </div>
        </div>
    </div>
    <!-- /Header -->
            <!-- /Header -->

        </div>
        <!-- /Header -->


        <!-- Content -->
    <div class="container content">
        <p>There are already a lot of tutorials on internet about how to make apps with GTK and python, but they
don't tell you how to get started from zero, so we will cover that here.</p>
<p>First, some important facts:</p>
<blockquote>
<ul class="simple">
<li>There are lots of examples on how to use pygtk and/or gtk version 2. I recommend you just ignore them. The new versions are gtk version 3 (or later) and pygobject (not pygtk). So be careful about what you find.</li>
<li>You will find many tutorials that actually advise you to avoid gtk or anything Gnome-related saying it is old or too complicated. Ignore them. Any library/framework/technology has its own pros/cons. At least do a &quot;simple hello world&quot; program in python+GTK using this guide, then make your own choice.</li>
<li>This post is about using python 3, gtk 3 and pygobject (the gtk3 python bindings).</li>
<li>Many thanks to youtuber &quot;gavr&quot; for making an awesome video about how to install gtk in windows! <a class="reference external" href="https://www.youtube.com/watch?v=XeS3InArxu0">https://www.youtube.com/watch?v=XeS3InArxu0</a></li>
</ul>
</blockquote>
<div class="section" id="how-to-install-gtk-development-environment-in-linux">
<h2>How to install GTK development environment in Linux</h2>
<p>If possible, use a linux distro with a Gnome desktop, not mandatory but will reduce the amount of files to download and may affect how your apps look and operate.</p>
<p>Instructions for ubuntu (this will install gtk and the vala compiler):</p>
<pre class="code bash literal-block">
sudo apt-get install glade
sudo apt-get install libgtk-3-dev
sudo apt-get install valac
</pre>
<p>&quot;Vala&quot; is a programming language from the Gnome team, I recommend you try to learn more about it. For now, just to test we have a good installation, make a file called HelloWorld.vala
and put this inside  ( Example copied from <a class="reference external" href="https://developer.gnome.org/gnome-devel-demos/stable/hello-world.vala.html.en">https://developer.gnome.org/gnome-devel-demos/stable/hello-world.vala.html.en</a> ):</p>
<pre class="code literal-block">
public class MyApplication : Gtk.Application {
    protected override void activate () {
        var window = new Gtk.ApplicationWindow (this);
        var label = new Gtk.Label (&quot;Hello GNOME!&quot;);
        window.add (label);
        window.set_title (&quot;Welcome to GNOME&quot;);
        window.set_default_size (200, 100);
        window.show_all ();
    }
}

public int main (string[] args) {
    return new MyApplication ().run (args);
}
</pre>
<p>Then, to compile that code, do this:</p>
<pre class="code bash literal-block">
valac --pkg gtk+-3.0 HelloWorld.vala
</pre>
<p>If everything is installed correctly you should now have an executable binary called &quot;HelloWorld&quot; that you can run by doing:</p>
<pre class="code bash literal-block">
./HelloWorld
</pre>
<p>Now, let's continue with python.</p>
<pre class="code bash literal-block">
sudo apt install libgirepository1.0-dev gcc libcairo2-dev pkg-config python3-dev gir1.2-gtk-3.0
sudo apt-get install python3-venv
</pre>
<p>Not mandatory, but recommended, create a python environment to work with pygobject (in this example we will call id &quot;PyGObject&quot;):</p>
<pre class="code bash literal-block">
python3 -m venv PyGObject
</pre>
<p>Now let's activate that environment and install the necessary gtk python libraries:</p>
<pre class="code bash literal-block">
<span class="nb">cd</span> PyGObject
<span class="nb">source</span> bin/activate
pip install --upgrade pip wheel
pip install pycairo
pip install PyGObject
</pre>
<p>Now you can create and run a hello world example in python+gtk:</p>
<pre class="code python literal-block">
<span class="kn">import</span> <span class="nn">gi</span>
<span class="n">gi</span><span class="o">.</span><span class="n">require_version</span><span class="p">(</span><span class="s1">'Gtk'</span><span class="p">,</span> <span class="s1">'3.0'</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">gi.repository</span> <span class="kn">import</span> <span class="n">Gtk</span>

<span class="n">win</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">()</span>
<span class="n">win</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;destroy&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">)</span>
<span class="n">win</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<span class="n">Gtk</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre>
</div>
<div class="section" id="how-to-install-gtk-python-development-environment-in-windows">
<h2>How to install GTK+python development environment in Windows</h2>
<p>In the past... GTK libraries for windows were provided/compiled by different people in the interent and you could just download and install them easily. Well, no more. Now you need to download
a linux environment that lives inside your windows (called &quot;MSYS2&quot;) then open a terminal command line from MSYS2 and use it like if it is a &quot;mini linux&quot; inside your
windows and install the linux GTK libraries inside that console. Yes, sounds complicated and weird, but it is doable and at the
end you will have a full GTK development environment, no need to wait for &quot;somebody in internet&quot; to compile or provide that runtime for you. And if you are reading this you are a developer right? so you are not
afraid of downloading and compiling software right? So let's do it:</p>
<p>Watch and follow the instructions from this video <a class="reference external" href="https://www.youtube.com/watch?v=XeS3InArxu0">https://www.youtube.com/watch?v=XeS3InArxu0</a>
After that, you should have a valid MSYS2 with gkt environment, able to compile a Gtk hello world in vala language, now install the pygobject libraries inside that MSYS2 terminal:</p>
<pre class="code bash literal-block">
pacman -S mingw-w64-x86_64-gtk3 mingw-w64-x86_64-python3 mingw-w64-x86_64-python3-gobject
</pre>
<p>Now you can create and run a hello world example in python+gtk:</p>
<pre class="code python literal-block">
<span class="kn">import</span> <span class="nn">gi</span>
<span class="n">gi</span><span class="o">.</span><span class="n">require_version</span><span class="p">(</span><span class="s1">'Gtk'</span><span class="p">,</span> <span class="s1">'3.0'</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">gi.repository</span> <span class="kn">import</span> <span class="n">Gtk</span>

<span class="n">win</span> <span class="o">=</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">Window</span><span class="p">()</span>
<span class="n">win</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="s2">&quot;destroy&quot;</span><span class="p">,</span> <span class="n">Gtk</span><span class="o">.</span><span class="n">main_quit</span><span class="p">)</span>
<span class="n">win</span><span class="o">.</span><span class="n">show_all</span><span class="p">()</span>
<span class="n">Gtk</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>
</pre>
<p>To learn more about using pygobject go to <a class="reference external" href="https://pygobject.readthedocs.io">https://pygobject.readthedocs.io</a></p>
</div>



        
    </div>
        <!-- /Content --> 

        <!-- Footer -->
        <div class="footer gradient-2">
            <div class="container footer-container ">
                <div class="row">
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Sitemap</div>
                        <ul class="list-unstyled">
                            <li><a href="/archives.html">Archives</a></li>
                            <li><a href="/tags.html">Tags</a></li>
                            <li><a href="/authors.html">Authors</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Social</div>
                        <ul class="list-unstyled">
                            <li><a href="https://pyvideo.org" target="_blank">Python videos</a></li>
                            <li><a href="https://python-gtk-3-tutorial.readthedocs.io/en/latest" target="_blank">Python+GTK3</a></li>
                        </ul>
                    </div>
                    <div class="col-xs-4 col-sm-3 col-md-3 col-lg-3">
                        <div class="footer-title">Links</div>
                        <ul class="list-unstyled">
                            <li><a href="http://getpelican.com" target="_blank">Pelican</a></li>
                            <li><a href="http://python.org" target="_blank">Python.org</a></li>
                            <li><a href="https://github.com/vinta/awesome-python" target="_blank">Awesome Python</a></li>
                        </ul>
                    </div> 
                    <div class="col-xs-12 col-sm-3 col-md-3 col-lg-3">
                        <p class="pull-right text-right">
                            <small><em>Proudly powered by <a href="http://docs.getpelican.com/" target="_blank">pelican</a></em></small><br/>
                            <small><em>Theme and code by <a href="https://github.com/molivier" target="_blank">molivier</a></em></small><br/>
                            <small>&copy; Maite's Lab. Made by Taksan caminardespierto@gmail.com</small>
                        </p>
                    </div>
                </div>
            </div>
        </div>
        <!-- /Footer -->
    </body>
</html>